(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{22:function(e,t,a){},26:function(e,t,a){e.exports=a(43)},31:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),m=(a(31),a(3)),i=a(2),s=a(1),o=(a(22),a(17)),u=n.createContext(null);function d(e){var t=e.children,a=n.useState([]),r=Object(s.a)(a,2),l=r[0],c=r[1],m=n.useState({lastname:"",firstname:"",streetname:"",streetnumber:"",postalcode:"",city:"",email:""}),i=Object(s.a)(m,2),d=i[0],p=i[1],E=n.useState(!1),b=Object(s.a)(E,2),f=b[0],h=b[1],g=n.useState(!1),y=Object(s.a)(g,2),v=y[0],N=y[1],C=n.useState({lastname:"",firstname:"",streetname:"",streetnumber:"",postalcode:"",city:""}),w=Object(s.a)(C,2),x=w[0],j=w[1],k=n.useState(""),O=Object(s.a)(k,2),S=O[0],A=O[1],M=n.useState(!1),P=Object(s.a)(M,2),I=P[0],B=P[1],D=n.useState(!1),G=Object(s.a)(D,2),Y=G[0],L=G[1];return n.createElement(u.Provider,{value:{cart:l,setCart:c,address:d,setAddress:p,sumItems:function(){var e=0;if(l.length>0){var t,a=Object(o.a)(l);try{for(a.s();!(t=a.n()).done;){e+=t.value.amount}}catch(n){a.e(n)}finally{a.f()}}return e},calcSum:function(){var e=0;if(l.length>0){var t,a=Object(o.a)(l);try{for(a.s();!(t=a.n()).done;){var n=t.value;e+=n.amount*n.price}}catch(r){a.e(r)}finally{a.f()}}return e},twoAddresses:f,set2Addresses:h,hasAddress:v,setHasAddress:N,billingAddress:x,setBillingAddress:j,payMethod:S,setStatePayMethod:A,newsLetter:I,setNewsLetter:B,agbs:Y,setAGBs:L,reset:function(){c([]),p({lastname:"",firstname:"",streetname:"",streetnumber:"",postalcode:"",city:"",email:""}),h(!1),N(!1),j({lastname:"",firstname:"",streetname:"",streetnumber:"",postalcode:"",city:"",email:""}),L(!1),A(""),B(!1)}}},t)}var p,E=a(14),b=a(18);!function(e){e.lastname="lastname",e.firstname="firstname",e.streetname="streetname",e.streetnumber="streetnumber",e.postalcode="postalcode",e.city="city",e.email="email"}(p||(p={}));var f=function(e){var t=n.useState([]),a=Object(s.a)(t,2),r=a[0],l=a[1],c=function(e,t){if(e===p.lastname||e===p.firstname||e===p.streetname||e===p.city){var a=function(e,t){return t.match(/^([A-Za-z0-9 \xe4\xf6\xfc\xc4\xd6\xdc\xdf -,._']){2,15}$/i)?[!0,""]:[!1,"".concat(e,": length: 2-15 cahracters, all alphabetical characters, numbers, and following special characters:[-,._'] allowed.")]}(e,t);return a[0]?(l([]),!0):(l([a[1]]),!1)}if(e===p.postalcode){var n=function(e){return e.match(/^\d{5}$/g)?[!0,""]:[!1,"Postalcode: Must contain 5 numbers!"]}(t);return n[0]?(l([]),!0):(l([n[1]]),!1)}if(e===p.streetnumber){var r=function(e){return e.match(/^\d{1,6}[a-z]?$/gi)?[!0,""]:[!1,"Street-number: Must contain a number (max. 6 numbers), can contain one letter."]}(t);return r[0]?(l([]),!0):(l([r[1]]),!1)}if(e===p.email){var c=t.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/)?[!0,""]:[!1,"No valid email"];return c[0]?(l([]),!0):(l([c[1]]),!1)}return!0};return{handleChange:function(t){var a=t.target,n=a.name,r=a.value;e((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(E.a)({},n,r))})),c(n,r)},error:r,checkCompleteness:function(e){for(var t={complete:!0,type:{lastname:!1,firstname:!1,streetname:!1,streetnumber:!1,postalcode:!1,city:!1,email:!1}},a=function(e,a){e===p.lastname?t.type.lastname=a:e===p.firstname?t.type.firstname=a:e===p.streetname?t.type.streetname=a:e===p.streetnumber?t.type.streetnumber=a:e===p.postalcode?t.type.postalcode=a:e===p.city?t.type.city=a:e===p.email&&(t.type.email=a)},n=0,r=Object.entries(e);n<r.length;n++){var l=Object(s.a)(r[n],2),m=l[0],i=l[1];i&&c(m,i)?a(m,!0):(a(m,!1),t.complete=!1)}return t}}},h=function(){var e=n.useContext(u),t=e.billingAddress,a=e.setBillingAddress,r=e.set2Addresses,l=f(a),c=l.error,o=l.handleChange,d=l.checkCompleteness,E=n.useState({complete:!1,type:{lastname:!0,firstname:!0,streetname:!0,streetnumber:!0,postalcode:!0,city:!0}}),b=Object(s.a)(E,2),h=b[0],g=b[1],y=Object(i.g)();return n.useEffect((function(){r(!1),h.complete&&(r(!0),y.replace("/billing"))}),[h]),n.createElement("div",{id:"shipping"},n.createElement(m.b,{to:"/shoppingcart",className:"back"},n.createElement("i",{className:"fas fa-chevron-left"})," Go back to bag"),n.createElement("form",null,n.createElement("h3",null,"Billing Address"),c.length>0&&n.createElement("h6",{className:"error"},c),n.createElement("label",null,"Last name:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.lastname,value:t.lastname,onChange:o,className:h.type.lastname?"":"empty"}),n.createElement("label",null,"First name:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.firstname,value:t.firstname,onChange:o,className:h.type.firstname?"":"empty"}),n.createElement("label",null,"Street name:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.streetname,value:t.streetname,onChange:o,className:h.type.streetname?"":"empty"}),n.createElement("label",null,"Street number:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.streetnumber,value:t.streetnumber,onChange:o,className:h.type.streetnumber?"":"empty"}),n.createElement("label",null,"ZIP Code"),n.createElement("input",{type:"text",autoComplete:"off",name:p.postalcode,value:t.postalcode,onChange:o,className:h.type.postalcode?"":"empty"}),n.createElement("label",null,"City name"),n.createElement("input",{type:"text",autoComplete:"off",name:p.city,value:t.city,onChange:o,className:h.type.city?"":"empty"}),n.createElement("div",{id:"question-address"})),n.createElement("button",{className:"next",type:"button",onClick:function(){g(d(t))}},"Next ",n.createElement("i",{className:"fas fa-chevron-right"})))},g=a(9),y=a(11),v=a.n(y),N=a(15),C=(a(38),a(39),function(){var e=n.useContext(u),t=e.cart,a=e.sumItems,r=Object(i.g)(),l=n.useState(0),c=Object(s.a)(l,2),m=c[0],o=c[1];return n.useEffect((function(){o(a)}),[t]),n.createElement("div",{onClick:function(){return r.replace("/shoppingcart")},id:"cart-icon"},n.createElement("i",{className:"fas fa-shopping-cart"}),n.createElement("div",null,m))});var w=[{id:1,product:"watch",image:"./littlewebshop/images/Memory12.jpg",price:19},{id:2,product:"lock",image:"./littlewebshop/images/Memory15.jpg",price:2},{id:3,product:"lighter",image:"./littlewebshop/images/Memory16.jpg",price:23},{id:4,product:"ring",image:"./littlewebshop/images/Memory26.jpg",price:25},{id:5,product:"stone",image:"./littlewebshop/images/Memory27.jpg",price:15},{id:6,product:"tea",image:"./littlewebshop/images/Memory37.jpg",price:1},{id:7,product:"lemon",image:"./littlewebshop/images/Memory39.jpg",price:14},{id:8,product:"filter",image:"./littlewebshop/images/Memory46.jpg",price:15},{id:9,product:"scrubber",image:"./littlewebshop/images/Memory47.jpg",price:20},{id:10,product:"tabs",image:"./littlewebshop/images/Memory48.jpg",price:100},{id:11,product:"green cotton",image:"./littlewebshop/images/Memory49.jpg",price:190},{id:12,product:"black cotton",image:"./littlewebshop/images/Memory50.jpg",price:18}],x=function(){var e=n.useState([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return n.useEffect((function(){Object(N.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(w);case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),n.createElement("div",{id:"buy"},n.createElement("header",null,n.createElement("h1",null,"SHOP MORE STUFF!"),n.createElement(C,null)),n.createElement("div",{className:"buy"},a.length>0&&a.map((function(e){return n.createElement(j,Object.assign({},e,{key:e.id}))}))))},j=function(e){var t=n.useState(0),a=Object(s.a)(t,2),r=a[0],l=a[1],c=n.useContext(u),m=c.cart,i=c.setCart,o=function(e){switch(e){case"decrement":l(0===r?0:function(e){return e-1});break;case"increment":l((function(e){return e+1}))}};return n.createElement("div",{className:"container",key:e.product},n.createElement("img",{src:e.image,alt:"watch"}),n.createElement("h4",null,e.product),n.createElement("h6",null,e.price,"\u20ac"),n.createElement("div",{className:"select"},n.createElement("button",{onClick:function(){return o("decrement")}},"-"),n.createElement("div",{className:"counter"},r),n.createElement("button",{onClick:function(){return o("increment")}},"+")),n.createElement("button",{onClick:function(){if(r>0){var t=Object(g.a)(m),a=t.findIndex((function(t){return t.id===e.id}));-1===a?i((function(t){return[].concat(Object(g.a)(t),[{id:e.id,product:e.product,amount:r,price:e.price,image:e.image}])})):(t[a].amount+=r,i(t))}l(0)}},"ADD"))},k=function(){var e=n.useContext(u),t=e.address,a=e.setAddress,r=e.twoAddresses,l=e.set2Addresses,c=e.setHasAddress,o=f(a),d=o.error,E=o.handleChange,b=o.checkCompleteness,h=n.useState({complete:!1,type:{lastname:!0,firstname:!0,streetname:!0,streetnumber:!0,postalcode:!0,city:!0,email:!0}}),g=Object(s.a)(h,2),y=g[0],v=g[1],N=Object(i.g)();return n.useEffect((function(){c(!1),y.complete&&r?(c(!0),N.replace("/billingaddress")):y.complete&&!r&&(c(!0),N.replace("/billing"))}),[y]),n.createElement("div",{id:"shipping"},n.createElement(m.b,{to:"/shoppingcart",className:"back"},n.createElement("i",{className:"fas fa-chevron-left"})," Go back to bag"),n.createElement("form",null,n.createElement("h3",null,"Shipping Address"),d.length>0&&n.createElement("h6",{className:"error"},d),n.createElement("label",null,"Your last name:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.lastname,value:t.lastname,onChange:E,className:y.type.lastname?"":"empty"}),n.createElement("label",null,"Your first name:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.firstname,value:t.firstname,onChange:E,className:y.type.firstname?"":"empty"}),n.createElement("label",null,"Street name:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.streetname,value:t.streetname,onChange:E,className:y.type.streetname?"":"empty"}),n.createElement("label",null,"Street number:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.streetnumber,value:t.streetnumber,onChange:E,className:y.type.streetnumber?"":"empty"}),n.createElement("label",null,"ZIP Code"),n.createElement("input",{type:"text",autoComplete:"off",name:p.postalcode,value:t.postalcode,onChange:E,className:y.type.postalcode?"":"empty"}),n.createElement("label",null,"City name"),n.createElement("input",{type:"text",autoComplete:"off",name:p.city,value:t.city,onChange:E,className:y.type.city?"":"empty"}),n.createElement("label",null,"Your email:"),n.createElement("input",{type:"text",autoComplete:"off",name:p.email,value:t.email,onChange:E,className:y.type.email?"":"empty"}),n.createElement("div",{id:"question-address"},n.createElement("input",{type:"checkbox",checked:r,onChange:function(){return l((function(e){return!e}))}}),n.createElement("label",null,"I have a different billing address"))),n.createElement("button",{className:"next",type:"button",onClick:function(){v(b(t))}},"Next ",n.createElement("i",{className:"fas fa-chevron-right"})))},O=(a(40),function(e){var t=e.id,a=e.product,r=e.amount,l=e.price,c=e.image,m=e.index,i=n.useContext(u).setCart,s=function e(t){switch(t){case"decrement":r>=0?e("delete"):i((function(e){var t=Object(g.a)(e);return t[m].amount=r-1,t}));break;case"increment":i((function(e){var t=Object(g.a)(e);return t[m].amount=r+1,t}));break;case"delete":i((function(e){var t=Object(g.a)(e);return t.splice(m,1),t}))}};return n.createElement("div",{key:t,className:"preview"},n.createElement("img",{src:c,alt:a}),n.createElement("div",null,n.createElement("h5",null,"Product: ",a),n.createElement("h5",null,"Quantity: ",r),n.createElement("h6",null,"Amount: ",l*r,"\u20ac")),n.createElement("div",null,n.createElement("div",{className:"select"},n.createElement("button",{onClick:function(){return s("decrement")}},"-"),n.createElement("div",{className:"counter"},r),n.createElement("button",{onClick:function(){return s("increment")}},"+")),n.createElement("div",{className:"icon",onClick:function(){return s("delete")}},n.createElement("i",{className:"fas fa-trash"}))))}),S=function(){var e=n.useContext(u),t=e.cart,a=e.calcSum,r=e.sumItems,l=n.useRef(null),c=n.useState("hide"),i=Object(s.a)(c,2),o=i[0],d=i[1],p=n.useState({total:0,items:0}),E=Object(s.a)(p,2),b=E[0],f=E[1];return n.useEffect((function(){d("show")}),[]),n.useEffect((function(){f({total:a(),items:r()})}),[t]),n.createElement("div",{id:"shopping-cart",className:o,ref:l},n.createElement("div",{id:"shopping-cart-container"},n.createElement("i",{className:"fas fa-shopping-cart"}),n.createElement(m.b,{id:"close",to:"/"},"X"),0===t.length&&n.createElement("h6",null,"No items in your shopping cart!"),n.createElement(n.Fragment,null,t.length>0&&t.map((function(e,t){return n.createElement(O,Object.assign({},e,{index:t,key:e.id}))})),t.length>0&&n.createElement("div",{id:"total"},n.createElement("h5",null,"Total: "),n.createElement("h5",null,b.items," Items"),n.createElement("h5",null,b.total,"\u20ac")),t.length>0&&n.createElement(m.b,{to:"/shipping",className:"preview-link"},n.createElement("div",{id:"checkout"},"Checkout")))))},A=(a(41),function(){var e=n.useContext(u).setStatePayMethod,t=n.useState(""),a=Object(s.a)(t,2),r=a[0],l=a[1],c=function(t){l(t.target.value),e(t.target.value)};return n.createElement("div",{id:"billing"},n.createElement(m.b,{to:"/shoppingcart",className:"back"},n.createElement("i",{className:"fas fa-chevron-left"})," Go back to bag"),n.createElement("form",{id:"billing-container"},n.createElement("h3",null,"Billing"),n.createElement("div",{className:"billing-choice"},n.createElement("div",null,n.createElement("input",{type:"radio",value:"credit",checked:"credit"===r,onChange:c}),n.createElement("label",null,"Pay with credit card")),n.createElement("br",null),"credit"===r&&n.createElement("div",null,n.createElement("p",null,"Pay with your credit card. Enter your payment details and you will be charged as soon as it leaves our warehouse."),n.createElement("div",{id:"credit"},n.createElement("input",{type:"text",name:"name",placeholder:"Name on CreditCard"}),n.createElement("input",{type:"password",name:"creditCardNumber",placeholder:"CreditCard number"}),n.createElement("label",null,"Expiration date:"),n.createElement("input",{type:"month",name:"date"}),n.createElement("label",null,"CVV number:"),n.createElement("input",{type:"text",name:"cvv",placeholder:"123",pattern:"^\\d{3}$"})))),n.createElement("div",{className:"billing-choice"},n.createElement("div",null,n.createElement("input",{type:"radio",value:"invoice",checked:"invoice"===r,onChange:c}),n.createElement("label",null,"Pay later (per invoice)")),n.createElement("br",null),"invoice"===r&&n.createElement("div",null,n.createElement("p",null,"Pay after delivery for the items you want to keep. You'll get an invoice once your order has left our warehouse and have 14 days to pay. You just have to enter your date of birth."),n.createElement("div",{id:"credit"},n.createElement("label",null,"Date of birth:"),n.createElement("input",{type:"date",name:"birthdate"})))),n.createElement("div",{className:"billing-choice"},n.createElement("div",null,n.createElement("div",null,n.createElement("input",{type:"radio",value:"debit",checked:"debit"===r,onChange:c}),n.createElement("label",null,"Pay with debit card")),n.createElement("br",null),"debit"===r&&n.createElement("div",null,n.createElement("p",null,"Pay with your debit card. Enter your bank details and you will be charged as soon as it leaves our warehouse."),n.createElement("div",{id:"credit"},n.createElement("input",{type:"text",name:"name",placeholder:"Name on debitcard"}),n.createElement("input",{type:"text",name:"ibanNumber",placeholder:"IBAN number"})))))),r&&n.createElement(m.b,{to:"/order",className:"next"},"Next ",n.createElement("i",{className:"fas fa-chevron-right"})))}),M=(a(42),function(e,t){var a=e.lastname+Date.now(),n=Math.floor(899999*Math.random())+1e5,r=e.lastname+", "+e.firstname,l=e.firstname+" "+e.lastname+"\n"+e.streetname+" "+e.streetnumber+"\n"+e.postalcode+" "+e.city,c={orderID:a,orderNumber:n,customerName:r,customerMail:e.email,deliveryAddress:l,newsletterAbo:t};return Promise.resolve(c)}),P=function(){var e=n.useContext(u),t=e.address,a=e.billingAddress,r=e.twoAddresses,l=e.hasAddress,c=e.payMethod,i=e.cart,o=e.calcSum,d=e.sumItems,p=e.agbs,E=e.setAGBs,b=e.newsLetter,f=e.setNewsLetter,h=e.reset,g=n.useState({total:0,items:0}),y=Object(s.a)(g,2),C=y[0],w=y[1],x=n.useState(null),j=Object(s.a)(x,2),k=j[0],O=j[1];n.useEffect((function(){w({total:o(),items:d()})}),[i]);var S=function(){var e=Object(N.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t,b);case 2:a=e.sent,O(a),h();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?n.createElement("div",{id:"order"},n.createElement(m.b,{to:"/",className:"back"},n.createElement("i",{className:"fas fa-chevron-left"})," Go back to main"),n.createElement("div",{id:"order-container"},n.createElement("h3",null,"Order confirmation:"),n.createElement("div",null,n.createElement("p",null,"OrderId: ",k.orderID),n.createElement("p",null,"OrderNumber: ",k.orderNumber),n.createElement("p",null,"Customer Name: ",k.customerName),n.createElement("p",null,"Customer Mail: ",k.customerMail),n.createElement("p",null,"Delivery Address: ",k.deliveryAddress),n.createElement("p",null,"Newsletter subscription:"," ",k.newsletterAbo?"yes":"no")))):n.createElement("div",{id:"order"},n.createElement(m.b,{to:"/billing",className:"back"},n.createElement("i",{className:"fas fa-chevron-left"})," Go back to Billing"),n.createElement("div",{id:"order-container"},n.createElement("h5",null,r?"Delivery address:":"Delivery and billing address:"),n.createElement("div",null,n.createElement("p",null,t.firstname," ",t.lastname),n.createElement("p",null,t.streetname," ",t.streetnumber),n.createElement("p",null,t.postalcode," ",t.city)),n.createElement(m.b,{to:"/shipping",className:"edit"},"Edit"),r&&n.createElement("div",null,n.createElement("h5",null,"billing address:"),n.createElement("div",null,n.createElement("p",null,a.firstname," ",a.lastname),n.createElement("p",null,a.streetname," ",a.streetnumber),n.createElement("p",null,a.postalcode," ",a.city))),r&&n.createElement(m.b,{to:"/billingaddress",className:"edit"},"Edit"),n.createElement("h5",{className:"line"},"Your order:"),i.length>0&&i.map((function(e){return n.createElement("div",{key:e.id,className:"preview"},n.createElement("img",{src:e.image,alt:e.product}),n.createElement("div",null,n.createElement("h5",null,"Product: ",e.product),n.createElement("h5",null,"Quantity: ",e.amount),n.createElement("h6",null,"Amount: ",e.price*e.amount,"\u20ac")))})),n.createElement("div",{id:"total"},n.createElement("h5",null,"Total: "),n.createElement("h5",null,C.items," Items"),n.createElement("h5",null,C.total,"\u20ac")),n.createElement(m.b,{to:"/shoppingcart",className:"edit"},"Edit"),n.createElement("h5",{className:"line"},"Paymethod: ",c),n.createElement("div",{id:"question-address",className:"line"},n.createElement("input",{type:"checkbox",checked:p,onChange:function(){return E((function(e){return!e}))}}),n.createElement("label",null,"I accept the terms of business")),n.createElement("div",{id:"question-address",className:"line"},n.createElement("input",{type:"checkbox",onChange:function(){return f((function(e){return!e}))}}),n.createElement("label",null,"I subscribe to the newsletter"))),c&&p&&C.items>0&&l&&n.createElement("button",{className:"next",onClick:S},"Buy ",n.createElement("i",{className:"fas fa-chevron-right"})))},I=function(){return r.a.createElement(m.a,null,r.a.createElement(d,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(x,null)),r.a.createElement(i.b,{exact:!0,path:"/shoppingcart"},r.a.createElement(S,null)),r.a.createElement(i.b,{exact:!0,path:"/shipping"},r.a.createElement(k,null)),r.a.createElement(i.b,{exact:!0,path:"/billingaddress"},r.a.createElement(h,null)),r.a.createElement(i.b,{exact:!0,path:"/billing"},r.a.createElement(A,null)),r.a.createElement(i.b,{exact:!0,path:"/order"},r.a.createElement(P,null)),r.a.createElement(i.b,{render:function(){return r.a.createElement(i.a,{to:"/"})}}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.4faf99a0.chunk.js.map